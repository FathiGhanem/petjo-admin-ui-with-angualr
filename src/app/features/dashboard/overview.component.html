<div class="page-container">
  <div class="page-header">
    <div>
      <h1>Dashboard</h1>
      <p class="subtitle">Welcome to PetJo Admin Panel</p>
    </div>
  </div>

  @if (loading()) {
    <div class="stats-grid">
      @for (i of skeletonItems; track i) {
        <div class="stat-card-skeleton">
          <p-skeleton width="100%" height="140px" borderRadius="12px" />
        </div>
      }
    </div>
  } @else if (error()) {
    <p-card>
      <div class="empty-state">
        <i class="pi pi-exclamation-circle" style="color: #ef4444;"></i>
        <h3>Failed to load dashboard</h3>
        <p>{{ error() }}</p>
        <p-button label="Retry" icon="pi pi-refresh" severity="primary"
                  (onClick)="loadStats()" [style]="{ 'margin-top': '1rem' }" />
      </div>
    </p-card>
  } @else {
    <div class="stats-grid">
      @for (card of statCards(); track card.label) {
        <a [routerLink]="card.route" class="stat-card">
          <div class="stat-card-inner">
            <div class="stat-icon-wrapper" [style.background]="card.gradient">
              <i [class]="card.icon"></i>
            </div>
            <div class="stat-info">
              <span class="stat-label">{{ card.label }}</span>
              <span class="stat-value">{{ card.value | number }}</span>
              @if (card.details) {
                <div class="stat-details">
                  @for (detail of card.details; track detail.label) {
                    <span class="stat-detail" [class]="detail.type">
                      {{ detail.value }} {{ detail.label }}
                    </span>
                  }
                </div>
              }
            </div>
            <i class="pi pi-chevron-right stat-arrow"></i>
          </div>
        </a>
      }
    </div>
  }
</div>
